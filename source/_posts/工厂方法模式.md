---
title: 工厂方法模式
date: 2017-09-22 13:16:45
tags:
---
``` Java
public abstract class Product{
    public void template_method(){
        System.out.println(hook_method());
    }
    protected abstract String hook_method();
}

public abstract class Client{
    protected Product obj = null;                //这里组合了一个Product对象
    public void anOperation(){
        factoryMethod();
        obj.template_method();                    //调用Product的方法
    }
    protected abstract void factoryMethod();
}

public class IntegerNumber extends Product{
    private int value;
    IntegerNumber(int v){
        value = v;
    }
    protected String hook_method(){
        return String.valueOf(value);
    }
}

public class ConcreteClient extends Client{
    protected void factoryMethod(){
        obj = new IntegerNumber(1250);            //在这里初始化Product对象
    }
}

public class Main{
    public static void main(String[] args){
        Client sc = new ConcreteClient();
        sc.anOperation();
    }
}
```