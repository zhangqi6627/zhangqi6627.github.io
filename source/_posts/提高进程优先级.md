---
title: 提高进程优先级
date: 2017-09-21 11:08:41
tags:
---
### 方法1:
找到这个进程对应的AndroidMannifest.xml文件，在其中添加属性『android:persistent="true"』， 这样可以将该进程设置为常驻内存进程，就可以降低被Kill的概率。以Acore进程为例， 在 /package/apps/Mms/AndroidMannifest.xml 文件中增加一行『android:persistent="true"』
具体修改示例如下:
package/apps/Mms/AndroidMannifest.xml
``` xml
android:label="@string/app_label"
android:icon="@drawable/app_icon"
android:allowBackup="false"
android:persistent="true" 
```

### 方法2:
提高进程优先级
``` Java
startForeground(1, new Notification());
```
降低进程优先级
``` Java
stopForeground(true);
```
onStart() 方法中进行提高优先级操作，然后在onStop()方法中进行降低优先级操作
这个方法可以将对应AP的ADJ临时提高到2。